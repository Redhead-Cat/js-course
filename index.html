<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson23</title>
</head>
<body>
    <script>
      'use strict';
      function Student(firstName,lastName,year,marks){
             this.firstName=firstName;
             this.lastName=lastName;
             this.year=year;
             this.marks=marks;
             this.attendance = new Array(25).fill(0);
      }
      Student.prototype={
        studentAge:function(){
               let today=new Date();
               let currentYear=today.getFullYear();
               let age= currentYear - this.year;
               return age
             },
        studentInfo:function(){
          return `Student name:${this.firstName}\nStudent Last name:${this.lastName}\nStudent Age:${this.studentAge()}\nStudent marks:${this.marks}`
        },
        average:function(){
        let sum=this.marks.reduce(function(a,b){
            return a+b;
          });
        let res=Math.round(sum/this.marks.length);
        return res; 
        },
       present:function(){ 
         if (this.attendance.indexOf(0)!=-1){
          this.attendance[this.attendance.indexOf(0)]=true;
         return this.attendance;
        } 
         }   
        ,
        absent:function(){ 
        if (this.attendance.indexOf(0)!=-1){
         this.attendance[this.attendance.indexOf(0)]=false;
         return this.attendance;
        }
       } ,
       summary:function(){
         let count=0;
         for(let i=0;i<=this.attendance.length;i++){
           if(this.attendance[i]===true){
            ++count;
           }
         }
         let attendanceAverage=count/this.attendance.length;
        if (attendanceAverage>0.9 && this.average()>90){
          return 'Ути какой молодчинка!';
        } else if(attendanceAverage>0.9 || this.average()>90){
          return 'Норм, но можно лучше';
        } else {
          return 'Редиска!';
        }
       },
        constructor:Student
      }

      const student1=new Student('Alex','Pushkin',1987,[85,75,90,85,100,80,95,100,95,85,100,100]);
      const student2=new Student('Oleg','Sidorov',1997,[85,75,90,85,80,80,95,100,95,65,100,90]);
      console.log(student1);
      console.log(student1.studentInfo());
      console.log(student1.average());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());
      console.log(student1.present());//26 element
      console.log(student1.present());//27 element
      console.log(student1.present());//28 element
      console.log(student1.summary());
      console.log(student2);
      console.log(student2.studentInfo());
      console.log(student2.average());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.present());
      console.log(student2.present());
      console.log(student2.present());
      console.log(student2.absent());
      console.log(student2.present());
      console.log(student2.present());//26 element
      console.log(student2.summary());
      </script>
</body>
</html>
