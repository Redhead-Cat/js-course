<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson12</title>
    <style>
      .box{
        float: left;
        width:100px;
        height: 100px;
        margin-left:20px;
        margin-bottom: 20px;
        padding-top: 40px;
        text-align: center;
        border: 1px solid rgb(154, 205, 50);
        background: rgba(154, 205, 50,0.8);
        box-sizing: border-box;
        cursor: pointer;
      }
      .box:last-child{
        clear: right;
        margin-right: 50px;
      }
    
   
    </style>
</head>
<body>
    <h1>DOM, BOM + Events</h1>
    <div class="wrap">
        <div class="box">0</div>
        <div class="box">0</div>
        <div class="box">0</div>
        <div class="box">0</div>
        <div class="box">0</div>
    </div>
    
    <script>
      'use strict';
     const $boxes=document.querySelectorAll('.box');
     const $wrap=document.querySelector('wrap');
     const link='https://ithillel.ua/?utm_source=%D0%9A%D0%B0%D1%80%D0%BB%20%D1%83%20%D0%9A%D0%BB%D0%B0%D1%80%D1%8B%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D1%8B&utm_medium=,%20%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D1%83%20%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%D0%B0%20%D0%BA%D0%BB%D0%B0%D1%80%D0%BD%D0%B5%D1%82.&utm_campaign=%D0%9A%D0%BE%D1%80%D0%BE%D0%BB%D0%B5%D0%B2%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D0%BA%D0%B0%D0%B2%D0%B0%D0%BB%D0%B5%D1%80%D0%B0&utm_term=%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%81%D1%82%D1%80%D0%BE%D0%B3%D0%BE%20%D0%BA%D0%B0%D1%80%D0%B0%D0%BB%D0%B0&utm_content=%D0%B7%D0%B0%20%D0%BA%D1%80%D0%B0%D0%B6%D1%83%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D0%BE%D0%B2';
    
     $boxes.forEach(function(box){
             box.addEventListener('click', function(){
                box.innerText=++box.innerText;            
          });
      });

     function makeObjFromQuery(link){
      let arr=link.split('?');
     let newArr=arr[1].split('&');
     
     function createArr(newArr){
      let resultArr=[];
      for(let i=0;i<=newArr.length - 1;i++){
        resultArr[i]=newArr[i].split('=');
      }
       return resultArr;
     }
    let resultArr=createArr(newArr);   
     
    let finalValue=Object.fromEntries(resultArr);

    for(let key in finalValue){
      finalValue[key]=decodeURIComponent(finalValue[key]);
    }
        return finalValue;
     }
    let linkObject= makeObjFromQuery(link);

 function printData(obj){
  let table='<table border="1">';
    for(let key in obj){
      let tr='<tr>';
       tr+= `<td>${key}</td>`;
        tr+=`<td>${obj[key]}</td>`;
        tr+='</tr>'; 
     table+=tr;
     }      
    table+='</table>'; 
   const $div=document.createElement('div');
    $div.innerHTML=`${table}`;
     return document.body.append($div);
 }
 printData(linkObject);

    </script>
</body>
</html>
